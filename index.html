<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Model Viewer</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
</head>
<body>
    <model-viewer id="model-viewer" class="flex items-center justify-center h-screen w-screen bg-gray-100"
                  alt="My 3D Model"
                  shadow-intensity="1"
                  camera-controls
                  touch-action="pan-y"
                  src="https://firebasestorage.googleapis.com/v0/b/vfit-8e85e.appspot.com/o/models/banana_plant_with_pot.glb?alt=media&token=5d693b49-8cdb-4c30-9252-b56aad8d1bf0">
    </model-viewer>

    <script>
        // Function to get the URL parameter
        function getUrlParameter(name) {
            name = name.replace(/[\[\]]/g, '\\$&');
            let urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Get the srcUrl parameter value
        const srcUrl = getUrlParameter('srcUrl');

        // Get the model-viewer element
        const modelViewer = document.getElementById('model-viewer');

        // Set the src attribute of the model-viewer element if srcUrl is provided
        if (srcUrl) {
            // Log the provided URL
            console.log('Provided srcUrl:', srcUrl);

            // Set the src attribute of the model-viewer element
            modelViewer.setAttribute('src', srcUrl);
        } else {
            console.error('No srcUrl parameter provided in the URL.');
        }
    </script>
</body>
</html>
